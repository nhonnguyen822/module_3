<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="bootstrap/bootstrap-5.2.3-dist/js/bootstrap.js"></script>
    <link rel="stylesheet" href="bootstrap/bootstrap-5.2.3-dist/css/bootstrap.css">
</head>
<body>
<div class="container">
    <h1 class="text-center mt-3 mb-4 text-danger">VIOLATION MANAGEMENT</h1>
    <table class="table table-sm table-bordered text-center table-striped">
        <thead class="table-light">
        <tr>
            <th>Student Code</th>
            <th>Student Name</th>
            <th>Number Of Violation</th>
            <th>Detail</th>
            <th>Delete</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>SV001</td>
            <td>Le Van A</td>
            <td>3</td>
            <td>
                <button type="button" class="btn btn-sm btn-primary" data-bs-toggle="modal"
                        data-bs-target="#exampleModal">
                    Detail
                </button>
            </td>
            <td>
                <button type="button" class="btn btn-sm btn-danger btn-delete">
                    Delete
                </button>
            </td>
        </tr>
        <tr>
            <td>SV002</td>
            <td>Le Van B</td>
            <td>3</td>
            <td>
                <button type="button" class="btn btn-sm btn-primary" data-bs-toggle="modal"
                        data-bs-target="#exampleModal">
                    Detail
                </button>
            </td>
            <td>
                <button type="button" class="btn btn-sm btn-danger btn-delete">
                    Delete
                </button>
            </td>

        </tr>
        <tr>
            <td>SV003</td>
            <td>Le Van C</td>
            <td>3</td>
            <td>
                <button type="button" class="btn btn-sm btn-primary" data-bs-toggle="modal"
                        data-bs-target="#exampleModal">
                    Detail
                </button>
            </td>
            <td>
                <button type="button" class="btn btn-sm btn-danger btn-delete">
                    Delete
                </button>
            </td>
        </tr>
        </tbody>
    </table>
</div>
<!-- Delete Confirmation Modal -->
<div class="modal fade" id="confirmDeleteModal" tabindex="-1" aria-labelledby="confirmDeleteLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title" id="confirmDeleteLabel">Confirm Delete</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Are you sure you want to delete this record?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" id="confirmDeleteBtn">Yes, Delete</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Details Of Violation</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <h2>Danh sách vi phạm của sinh viên: SV001</h2>
                <table class="table table-sm table-bordered text-center table-striped">
                    <tr>
                        <th>Mã biên bản</th>
                        <th>Ngày vi phạm</th>
                        <th>Nội dung</th>
                    </tr>
                    <tr>
                        <td>BB001</td>
                        <td>2025-04-12</td>
                        <td>Không chấp hành nội quy ký túc xá</td>
                    </tr>
                    <!-- Các dòng khác -->
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<script>
    let rowToDelete = null;

    // Gán sự kiện click cho các nút delete
    document.querySelectorAll('.btn-delete').forEach(function (button) {
        button.addEventListener('click', function () {
            rowToDelete = this.closest('tr'); // Lưu lại hàng cần xóa
            const deleteModal = new bootstrap.Modal(document.getElementById('confirmDeleteModal'));
            deleteModal.show(); // Mở modal xác nhận
        });
    });

    // Khi người dùng bấm nút "Yes, Delete"
    document.getElementById('confirmDeleteBtn').addEventListener('click', function () {
        if (rowToDelete) {
            rowToDelete.remove(); // Xóa hàng
            rowToDelete = null;
        }
        const deleteModal = bootstrap.Modal.getInstance(document.getElementById('confirmDeleteModal'));
        deleteModal.hide(); // Đóng modal
    });
</script>
</body>
</html>